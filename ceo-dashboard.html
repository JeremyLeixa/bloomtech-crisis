<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BloomTech Crisis Command | CEO Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --danger-red: #ef4444;
            --warning-orange: #f59e0b;
            --success-green: #10b981;
            --info-blue: #3b82f6;
            --neutral-gray: #6b7280;
            --dark-bg: #111827;
            --card-bg: #1f2937;
            --text-white: #f9fafb;
            --text-gray: #d1d5db;
            --border-gray: #374151;
            --glow-red: rgba(239, 68, 68, 0.5);
            --glow-green: rgba(16, 185, 129, 0.5);
            --glow-blue: rgba(59, 130, 246, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--dark-bg);
            color: var(--text-white);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header principal */
        .crisis-header {
            background: linear-gradient(135deg, var(--danger-red), #dc2626);
            padding: 1.5rem 2rem;
            box-shadow: 0 4px 20px rgba(239, 68, 68, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1800px;
            margin: 0 auto;
        }

        .crisis-title {
            font-size: 2rem;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .crisis-icon {
            font-size: 2.5rem;
            animation: pulse 2s infinite;
        }

        .global-timer {
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .timer-label {
            font-size: 0.875rem;
            opacity: 0.9;
            margin-bottom: 0.25rem;
        }

        .timer-display {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .crisis-level {
            background: var(--warning-orange);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 700;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Dashboard principal */
        .dashboard-container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }

        /* Section équipes */
        .teams-section {
            background: var(--card-bg);
            border-radius: 1rem;
            padding: 2rem;
            border: 1px solid var(--border-gray);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .teams-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
        }

        .team-card {
            background: linear-gradient(135deg, var(--dark-bg), #1f2937);
            border-radius: 0.75rem;
            padding: 1.5rem;
            border: 2px solid var(--border-gray);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .team-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--neutral-gray);
            transition: all 0.3s ease;
        }

        .team-card.status-working::before { background: var(--info-blue); }
        .team-card.status-warning::before { background: var(--warning-orange); }
        .team-card.status-critical::before { background: var(--danger-red); }
        .team-card.status-complete::before { background: var(--success-green); }

        .team-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .team-name {
            font-size: 1.125rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--neutral-gray);
            animation: none;
        }

        .status-indicator.working {
            background: var(--info-blue);
            animation: pulse 2s infinite;
        }

        .status-indicator.warning {
            background: var(--warning-orange);
            animation: pulse 1.5s infinite;
        }

        .status-indicator.critical {
            background: var(--danger-red);
            animation: pulse 1s infinite;
        }

        .status-indicator.complete {
            background: var(--success-green);
        }

        .team-deadline {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.875rem;
            color: var(--text-gray);
        }

        .deadline-urgent {
            color: var(--danger-red);
            font-weight: 600;
        }

        .team-progress {
            margin-bottom: 1rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--border-gray);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .progress-fill {
            height: 100%;
            background: var(--info-blue);
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .progress-fill.warning { background: var(--warning-orange); }
        .progress-fill.critical { background: var(--danger-red); }
        .progress-fill.complete { background: var(--success-green); }

        .progress-text {
            font-size: 0.875rem;
            color: var(--text-gray);
        }

        .team-deliverables {
            list-style: none;
            font-size: 0.875rem;
        }

        .deliverable {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.25rem;
            color: var(--text-gray);
        }

        .deliverable.completed {
            color: var(--success-green);
        }

        .deliverable-icon {
            width: 16px;
            height: 16px;
        }

        /* Section contrôles */
        .controls-section {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .control-panel {
            background: var(--card-bg);
            border-radius: 1rem;
            padding: 1.5rem;
            border: 1px solid var(--border-gray);
        }

        .event-buttons {
            display: grid;
            gap: 1rem;
        }

        .event-btn {
            background: linear-gradient(135deg, var(--danger-red), #dc2626);
            color: white;
            border: none;
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .event-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px var(--glow-red);
        }

        .event-btn.warning {
            background: linear-gradient(135deg, var(--warning-orange), #d97706);
        }

        .event-btn.info {
            background: linear-gradient(135deg, var(--info-blue), #2563eb);
        }

        .event-icon {
            font-size: 1.25rem;
        }

        .broadcast-panel {
            margin-top: 1rem;
        }

        .broadcast-input {
            width: 100%;
            background: var(--dark-bg);
            border: 1px solid var(--border-gray);
            border-radius: 0.5rem;
            padding: 0.75rem;
            color: var(--text-white);
            font-size: 0.875rem;
            resize: vertical;
            min-height: 80px;
            margin-bottom: 1rem;
        }

        .broadcast-btn {
            background: linear-gradient(135deg, var(--info-blue), #2563eb);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }

        .broadcast-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px var(--glow-blue);
        }

        /* Timeline globale */
        .timeline-section {
            background: var(--card-bg);
            border-radius: 1rem;
            padding: 1.5rem;
            border: 1px solid var(--border-gray);
            grid-column: 1 / -1;
            margin-top: 2rem;
        }

        .timeline {
            display: flex;
            gap: 2rem;
            overflow-x: auto;
            padding-bottom: 1rem;
        }

        .timeline-item {
            min-width: 200px;
            background: var(--dark-bg);
            border-radius: 0.5rem;
            padding: 1rem;
            border-left: 4px solid var(--info-blue);
            position: relative;
        }

        .timeline-item.urgent {
            border-left-color: var(--danger-red);
            animation: glow 2s infinite;
        }

        .timeline-time {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            color: var(--info-blue);
            margin-bottom: 0.5rem;
        }

        .timeline-event {
            font-size: 0.875rem;
            color: var(--text-gray);
        }

        /* Board Meeting Section */
        .board-meeting-section {
            background: linear-gradient(135deg, var(--danger-red), #dc2626);
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 8px 25px var(--glow-red);
        }

        .board-countdown {
            font-family: 'JetBrains Mono', monospace;
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .board-status {
            font-size: 1.25rem;
            opacity: 0.9;
        }

        .start-board-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }

        .start-board-btn:hover {
            background: white;
            color: var(--danger-red);
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 5px var(--glow-red); }
            50% { box-shadow: 0 0 20px var(--glow-red), 0 0 30px var(--glow-red); }
        }

        /* Responsive */
        @media (max-width: 1400px) {
            .dashboard-container {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .teams-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .crisis-title {
                font-size: 1.5rem;
            }
            
            .teams-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard-container {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header principal -->
    <header class="crisis-header">
        <div class="header-content">
            <h1 class="crisis-title">
                <span class="crisis-icon">🚨</span>
                BloomTech Crisis Command
            </h1>
            
            <div class="global-timer">
                <div class="timer-label">Time to Board Meeting</div>
                <div class="timer-display" id="globalTimer">01:30:00</div>
            </div>
            
            <div class="crisis-level" id="crisisLevel">DEFCON 2</div>
        </div>
    </header>

    <!-- Dashboard principal -->
    <main class="dashboard-container">
        
        <!-- Section équipes -->
        <section class="teams-section">
            <h2 class="section-title">
                <span>👥</span>
                Crisis Teams Status
            </h2>
            
            <div class="teams-grid">
                <!-- Team Legal -->
                <div class="team-card status-working" id="team-legal">
                    <div class="team-header">
                        <div class="team-name">
                            <span class="status-indicator working"></span>
                            ⚖️ Legal Response
                        </div>
                        <div class="team-deadline">Due: <span class="deadline-urgent">30 min</span></div>
                    </div>
                    
                    <div class="team-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 25%"></div>
                        </div>
                        <div class="progress-text">25% Complete</div>
                    </div>
                    
                    <ul class="team-deliverables">
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            FTC Response Draft
                        </li>
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Legal Risk Assessment
                        </li>
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Compliance Action Plan
                        </li>
                    </ul>
                </div>

                <!-- Team Media -->
                <div class="team-card status-warning" id="team-media">
                    <div class="team-header">
                        <div class="team-name">
                            <span class="status-indicator warning"></span>
                            📰 Media Crisis
                        </div>
                        <div class="team-deadline">Due: <span class="deadline-urgent">45 min</span></div>
                    </div>
                    
                    <div class="team-progress">
                        <div class="progress-bar">
                            <div class="progress-fill warning" style="width: 40%"></div>
                        </div>
                        <div class="progress-text">40% Complete</div>
                    </div>
                    
                    <ul class="team-deliverables">
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Press Release
                        </li>
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Social Media Strategy
                        </li>
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Crisis Messaging Guide
                        </li>
                    </ul>
                </div>

                <!-- Team Influencers -->
                <div class="team-card status-critical" id="team-influencers">
                    <div class="team-header">
                        <div class="team-name">
                            <span class="status-indicator critical"></span>
                            📱 Influencer Relations
                        </div>
                        <div class="team-deadline">Due: <span class="deadline-urgent">20 min</span></div>
                    </div>
                    
                    <div class="team-progress">
                        <div class="progress-bar">
                            <div class="progress-fill critical" style="width: 15%"></div>
                        </div>
                        <div class="progress-text">15% Complete - BEHIND SCHEDULE</div>
                    </div>
                    
                    <ul class="team-deliverables">
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Influencer Negotiation Plan
                        </li>
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Compensation Framework
                        </li>
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Recovery Campaign
                        </li>
                    </ul>
                </div>

                <!-- Team Tech -->
                <div class="team-card status-working" id="team-tech">
                    <div class="team-header">
                        <div class="team-name">
                            <span class="status-indicator working"></span>
                            💻 Technical Recovery
                        </div>
                        <div class="team-deadline">Due: <span>60 min</span></div>
                    </div>
                    
                    <div class="team-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 60%"></div>
                        </div>
                        <div class="progress-text">60% Complete</div>
                    </div>
                    
                    <ul class="team-deliverables">
                        <li class="deliverable completed">
                            <span class="deliverable-icon">✅</span>
                            Root Cause Analysis
                        </li>
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Fix Implementation Plan
                        </li>
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Prevention Measures
                        </li>
                    </ul>
                </div>

                <!-- Team Strategy -->
                <div class="team-card status-working" id="team-strategy">
                    <div class="team-header">
                        <div class="team-name">
                            <span class="status-indicator working"></span>
                            🎯 Executive Strategy
                        </div>
                        <div class="team-deadline">Due: <span>75 min</span></div>
                    </div>
                    
                    <div class="team-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 30%"></div>
                        </div>
                        <div class="progress-text">30% Complete</div>
                    </div>
                    
                    <ul class="team-deliverables">
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Board Presentation
                        </li>
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Long-term Strategy
                        </li>
                        <li class="deliverable">
                            <span class="deliverable-icon">⏳</span>
                            Stakeholder Communication
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section contrôles -->
        <aside class="controls-section">
            <!-- Événements de crise -->
            <div class="control-panel">
                <h3 class="section-title">
                    <span>⚡</span>
                    Crisis Events
                </h3>
                
                <div class="event-buttons">
                    <button class="event-btn" onclick="triggerEvent('viral-tweet')">
                        <span class="event-icon">🐦</span>
                        <div>
                            <div style="font-weight: 700;">Viral Negative Tweet</div>
                            <div style="font-size: 0.75rem; opacity: 0.8;">Launch viral criticism</div>
                        </div>
                    </button>
                    
                    <button class="event-btn warning" onclick="triggerEvent('journalist-call')">
                        <span class="event-icon">📞</span>
                        <div>
                            <div style="font-weight: 700;">Journalist Pressure</div>
                            <div style="font-size: 0.75rem; opacity: 0.8;">Reporter demands comment</div>
                        </div>
                    </button>
                    
                    <button class="event-btn" onclick="triggerEvent('investor-panic')">
                        <span class="event-icon">💰</span>
                        <div>
                            <div style="font-weight: 700;">Investor Panic</div>
                            <div style="font-size: 0.75rem; opacity: 0.8;">Major investor threatens exit</div>
                        </div>
                    </button>
                    
                    <button class="event-btn info" onclick="triggerEvent('competitor-attack')">
                        <span class="event-icon">⚔️</span>
                        <div>
                            <div style="font-weight: 700;">Competitor Attack</div>
                            <div style="font-size: 0.75rem; opacity: 0.8;">Rival capitalizes on crisis</div>
                        </div>
                    </button>
                </div>
            </div>

            <!-- Broadcast -->
            <div class="control-panel">
                <h3 class="section-title">
                    <span>📢</span>
                    CEO Broadcast
                </h3>
                
                <div class="broadcast-panel">
                    <textarea 
                        class="broadcast-input" 
                        placeholder="Urgent message to all teams..."
                        id="broadcastMessage"
                    ></textarea>
                    <button class="broadcast-btn" onclick="sendBroadcast()">
                        📤 Send to All Teams
                    </button>
                </div>
            </div>

            <!-- Board Meeting -->
            <div class="board-meeting-section">
                <h3 style="margin-bottom: 1rem;">⏰ Board Meeting</h3>
                <div class="board-countdown" id="boardCountdown">01:30:00</div>
                <div class="board-status">Until Crisis Review</div>
                <button class="start-board-btn" onclick="startBoardMeeting()">
                    🎭 Start Board Meeting
                </button>
            </div>
        </aside>
    </main>

    <!-- Timeline globale -->
    <section class="timeline-section">
        <h2 class="section-title">
            <span>📅</span>
            Crisis Timeline
        </h2>
        
        <div class="timeline">
            <div class="timeline-item urgent">
                <div class="timeline-time">NOW</div>
                <div class="timeline-event">Legal team deadline approaching</div>
            </div>
            
            <div class="timeline-item">
                <div class="timeline-time">+20 min</div>
                <div class="timeline-event">Influencer team final deadline</div>
            </div>
            
            <div class="timeline-item">
                <div class="timeline-time">+45 min</div>
                <div class="timeline-event">Media response due</div>
            </div>
            
            <div class="timeline-item">
                <div class="timeline-time">+75 min</div>
                <div class="timeline-event">Strategy presentation ready</div>
            </div>
            
            <div class="timeline-item urgent">
                <div class="timeline-time">+90 min</div>
                <div class="timeline-event">BOARD MEETING STARTS</div>
            </div>
        </div>
    </section>

    <script>
        // Timer global
        let startTime = new Date();
        let totalTime = 90 * 60 * 1000; // 90 minutes
        
        function updateTimers() {
            const now = new Date();
            const elapsed = now - startTime;
            const remaining = Math.max(0, totalTime - elapsed);
            
            const hours = Math.floor(remaining / (1000 * 60 * 60));
            const minutes = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((remaining % (1000 * 60)) / 1000);
            
            const display = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            document.getElementById('globalTimer').textContent = display;
            document.getElementById('boardCountdown').textContent = display;
            
            // Mise à jour du niveau de crise
            const percentageLeft = remaining / totalTime;
            const crisisLevel = document.getElementById('crisisLevel');
            
            if (percentageLeft < 0.1) {
                crisisLevel.textContent = 'DEFCON 1';
                crisisLevel.style.background = 'var(--danger-red)';
            } else if (percentageLeft < 0.3) {
                crisisLevel.textContent = 'DEFCON 2';
                crisisLevel.style.background = 'var(--warning-orange)';
            }
            
            if (remaining <= 0) {
                crisisLevel.textContent = 'TIME UP';
                document.querySelector('.board-status').textContent = 'BOARD MEETING NOW!';
            }
        }
        
        // Événements de crise
        const crisisEvents = {
            'viral-tweet': {
                title: '🐦 BREAKING: Viral Tweet Storm',
                message: 'A Twitter thread about BloomTech has gone viral with 50k retweets. #BloomTechScandal is trending. Media team needs immediate response strategy.',
                impact: 'Media team deadline reduced by 10 minutes'
            },
            'journalist-call': {
                title: '📞 URGENT: Journalist Deadline',
                message: 'TechCrunch reporter demands comment in 15 minutes or story goes live without our response. Legal and Media teams must coordinate immediately.',
                impact: 'New 15-minute deadline for press response'
            },
            'investor-panic': {
                title: '💰 INVESTOR ALERT: Exit Threat',
                message: 'Lead investor threatens to pull funding if crisis not resolved within 1 hour. Strategy team must prepare investor call presentation.',
                impact: 'Strategy team new priority: investor retention'
            },
            'competitor-attack': {
                title: '⚔️ COMPETITOR STRIKE',
                message: 'EcoGlow (main competitor) just announced "integrity guarantee" campaign, directly targeting our crisis. Counter-strategy needed.',
                impact: 'All teams: incorporate competitive response'
            }
        };
        
        function triggerEvent(eventKey) {
            const event = crisisEvents[eventKey];
            if (!event) return;
            
            // Affichage visuel de l'événement
            showEventNotification(event);
            
            // Logique d'impact sur les équipes
            applyEventImpact(eventKey);
            
            console.log(`CEO triggered event: ${eventKey}`);
        }
        
        function showEventNotification(event) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, var(--danger-red), #dc2626);
                color: white;
                padding: 2rem;
                border-radius: 1rem;
                box-shadow: 0 20px 40px rgba(239, 68, 68, 0.4);
                z-index: 10000;
                text-align: center;
                animation: slideInUp 0.5s ease-out;
                max-width: 600px;
                border: 2px solid rgba(255, 255, 255, 0.2);
            `;
            
            notification.innerHTML = `
                <h2 style="margin: 0 0 1rem 0; font-size: 1.5rem; font-weight: 800;">${event.title}</h2>
                <p style="margin: 0 0 1rem 0; font-size: 1rem; line-height: 1.5;">${event.message}</p>
                <div style="background: rgba(255, 255, 255, 0.1); padding: 0.75rem; border-radius: 0.5rem; font-size: 0.875rem; font-weight: 600;">
                    Impact: ${event.impact}
                </div>
                <button onclick="this.parentElement.remove()" style="
                    margin-top: 1rem;
                    background: rgba(255, 255, 255, 0.2);
                    color: white;
                    border: 1px solid white;
                    padding: 0.5rem 1rem;
                    border-radius: 0.5rem;
                    cursor: pointer;
                    font-weight: 600;
                ">Dismiss</button>
            `;
            
            document.body.appendChild(notification);
            
            // Son d'alerte (optionnel)
            playAlertSound();
            
            // Auto-remove après 10 secondes
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'fadeOut 0.5s ease-out';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 500);
                }
            }, 10000);
        }
        
        function applyEventImpact(eventKey) {
            // Simulation d'impact sur les équipes
            const teamCards = document.querySelectorAll('.team-card');
            
            switch(eventKey) {
                case 'viral-tweet':
                    // Impact sur l'équipe Media
                    const mediaCard = document.getElementById('team-media');
                    mediaCard.classList.remove('status-warning');
                    mediaCard.classList.add('status-critical');
                    mediaCard.querySelector('.deadline-urgent').textContent = '35 min';
                    break;
                    
                case 'journalist-call':
                    // Impact sur Legal et Media
                    const legalCard = document.getElementById('team-legal');
                    legalCard.querySelector('.deadline-urgent').textContent = '15 min';
                    legalCard.classList.add('status-critical');
                    break;
                    
                case 'investor-panic':
                    // Impact sur Strategy
                    const strategyCard = document.getElementById('team-strategy');
                    strategyCard.classList.remove('status-working');
                    strategyCard.classList.add('status-warning');
                    break;
                    
                case 'competitor-attack':
                    // Impact global - toutes les équipes passent en mode stress
                    teamCards.forEach(card => {
                        if (!card.classList.contains('status-critical')) {
                            card.classList.add('status-warning');
                        }
                    });
                    break;
            }
        }
        
        function sendBroadcast() {
            const message = document.getElementById('broadcastMessage').value.trim();
            if (!message) {
                alert('Please enter a message to broadcast');
                return;
            }
            
            // Affichage du broadcast
            showBroadcastNotification(message);
            
            // Clear le textarea
            document.getElementById('broadcastMessage').value = '';
            
            console.log(`CEO broadcast: ${message}`);
        }
        
        function showBroadcastNotification(message) {
            const broadcast = document.createElement('div');
            broadcast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, var(--info-blue), #2563eb);
                color: white;
                padding: 1.5rem;
                border-radius: 0.75rem;
                box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
                z-index: 9999;
                max-width: 400px;
                animation: slideInRight 0.5s ease-out;
                border-left: 4px solid white;
            `;
            
            broadcast.innerHTML = `
                <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                    <span style="font-size: 1.25rem;">📢</span>
                    <strong style="font-size: 1rem;">CEO MESSAGE</strong>
                </div>
                <p style="margin: 0; font-size: 0.875rem; line-height: 1.4;">${message}</p>
            `;
            
            document.body.appendChild(broadcast);
            
            // Auto-remove après 8 secondes
            setTimeout(() => {
                if (broadcast.parentNode) {
                    broadcast.style.animation = 'slideOutRight 0.5s ease-out';
                    setTimeout(() => {
                        if (broadcast.parentNode) {
                            broadcast.parentNode.removeChild(broadcast);
                        }
                    }, 500);
                }
            }, 8000);
        }
        
        function startBoardMeeting() {
            if (confirm('Start the board meeting presentation phase?')) {
                // Transition vers l'interface de board meeting
                window.location.href = 'board-meeting.html';
            }
        }
        
        function playAlertSound() {
            // Son d'alerte basique (optionnel)
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                oscillator.frequency.setValueAtTime(400, audioContext.currentTime + 0.1);
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.2);
            } catch (e) {
                // Fallback silencieux si pas de support audio
                console.log('Audio not supported');
            }
        }
        
        // Simulation de mise à jour des équipes (en vrai, ça viendrait d'une API)
        function simulateTeamProgress() {
            const teams = ['legal', 'media', 'influencers', 'tech', 'strategy'];
            
            teams.forEach(teamId => {
                const card = document.getElementById(`team-${teamId}`);
                const progressBar = card.querySelector('.progress-fill');
                const progressText = card.querySelector('.progress-text');
                
                // Simulation aléatoire de progression
                if (Math.random() > 0.7) {
                    const currentWidth = parseInt(progressBar.style.width) || 0;
                    const newWidth = Math.min(100, currentWidth + Math.floor(Math.random() * 10));
                    
                    progressBar.style.width = `${newWidth}%`;
                    progressText.textContent = `${newWidth}% Complete`;
                    
                    // Mise à jour du statut si terminé
                    if (newWidth >= 100) {
                        card.classList.remove('status-working', 'status-warning', 'status-critical');
                        card.classList.add('status-complete');
                        card.querySelector('.status-indicator').classList.remove('working', 'warning', 'critical');
                        card.querySelector('.status-indicator').classList.add('complete');
                        
                        // Marquer les deliverables comme complétés
                        card.querySelectorAll('.deliverable').forEach(deliverable => {
                            deliverable.classList.add('completed');
                            deliverable.querySelector('.deliverable-icon').textContent = '✅';
                        });
                    }
                }
            });
        }
        
        // Fonctions de gestion des équipes (pour les interactions manuelles)
        function updateTeamStatus(teamId, status, progress) {
            const card = document.getElementById(`team-${teamId}`);
            if (!card) return;
            
            // Mise à jour du statut
            card.className = `team-card status-${status}`;
            
            // Mise à jour de la progression
            const progressBar = card.querySelector('.progress-fill');
            const progressText = card.querySelector('.progress-text');
            
            progressBar.style.width = `${progress}%`;
            progressBar.className = `progress-fill ${status}`;
            progressText.textContent = `${progress}% Complete`;
            
            // Mise à jour de l'indicateur de statut
            const indicator = card.querySelector('.status-indicator');
            indicator.className = `status-indicator ${status}`;
        }
        
        function markDeliverableComplete(teamId, deliverableIndex) {
            const card = document.getElementById(`team-${teamId}`);
            const deliverables = card.querySelectorAll('.deliverable');
            
            if (deliverables[deliverableIndex]) {
                deliverables[deliverableIndex].classList.add('completed');
                deliverables[deliverableIndex].querySelector('.deliverable-icon').textContent = '✅';
            }
        }
        
        // Raccourcis clavier pour le CEO
        document.addEventListener('keydown', (e) => {
            if (e.altKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        triggerEvent('viral-tweet');
                        break;
                    case '2':
                        e.preventDefault();
                        triggerEvent('journalist-call');
                        break;
                    case '3':
                        e.preventDefault();
                        triggerEvent('investor-panic');
                        break;
                    case '4':
                        e.preventDefault();
                        triggerEvent('competitor-attack');
                        break;
                    case 'b':
                        e.preventDefault();
                        document.getElementById('broadcastMessage').focus();
                        break;
                }
            }
        });
        
        // Initialisation
        setInterval(updateTimers, 1000);
        setInterval(simulateTeamProgress, 30000); // Simulation toutes les 30 secondes
        
        // Ajout des styles d'animation CSS
        const animationStyles = document.createElement('style');
        animationStyles.textContent = `
            @keyframes slideInUp {
                from { opacity: 0; transform: translate(-50%, -50%) translateY(30px); }
                to { opacity: 1; transform: translate(-50%, -50%) translateY(0); }
            }
            
            @keyframes slideInRight {
                from { opacity: 0; transform: translateX(100%); }
                to { opacity: 1; transform: translateX(0); }
            }
            
            @keyframes slideOutRight {
                from { opacity: 1; transform: translateX(0); }
                to { opacity: 0; transform: translateX(100%); }
            }
            
            @keyframes fadeOut {
                from { opacity: 1; }
                to { opacity: 0; }
            }
        `;
        document.head.appendChild(animationStyles);
        
        console.log('[BloomTech] CEO Dashboard initialized');
        console.log('Keyboard shortcuts: Alt+1-4 for events, Alt+B for broadcast');
    </script>
</body>
</html>
